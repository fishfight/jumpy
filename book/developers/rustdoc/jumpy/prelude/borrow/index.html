<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module contains types that can be used to implement atomic borrowing."><title>jumpy::prelude::borrow - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="jumpy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"><script src='https://unpkg.com/panzoom@9.4.0/dist/panzoom.min.js'></script>
<script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10.2.2/dist/mermaid.esm.min.mjs"
    mermaid.initialize({
        startOnLoad: false,
        securityLevel: 'loose',
        theme: 'dark',
        themeVariables: {
            fontSize: '16px',
            lineColor: '#F8B229',
            clusterBkg: '#0000',
            edgeLabelBackground: '#1A1A1A'
        }
    });
    mermaid.run({
        querySelector: '.mermaid',
        postRenderCallback: id => {
            let el = document.getElementById(id);
            const pz = panzoom(el, {
                smoothScroll: false,
                zoomDoubleClickSpeed: 1,
                beforeWheel: function (e) {
                    // allow wheel-zoom only if ctrl is down. Otherwise - ignore
                    var shouldIgnore = !e.ctrlKey;
                    return shouldIgnore;
                }
            })

            const plusDiv = document.createElement('div');
            plusDiv.style = "width: 25px; height: 25px; position: absolute; right: 0.8em; bottom: 0.8em; border: 2px solid #BBB; text-align: center; padding: auto; font-size: 18px; background-color: #222; cursor: pointer"
            plusDiv.innerText = "+"
            plusDiv.onclick = () => {
                pz.smoothZoom(0, 0, 1.2)
            }
            el.parentNode.appendChild(plusDiv);

            const minusDiv = document.createElement('div');
            minusDiv.style = "width: 25px; height: 25px; position: absolute; right: 2.4em; bottom: 0.8em; border: 2px solid #BBB; text-align: center; padding: auto; font-size: 18px; background-color: #222; cursor: pointer"
            minusDiv.innerText = "-"
            minusDiv.onclick = () => {
                pz.smoothZoom(0, 0, 0.8)
            }
            el.parentNode.appendChild(minusDiv);
        }
    })

    // Callback for use in mermaid diagrams that will open a relative doc link when clicking.
    //
    // Example doc link for `arg` would be: jumpy/session/struct.SessionManager.html
    window.docLink = (arg) => {
        let pathElems = new URL(window.location.href).pathname.split('/').filter(x => x != '');
        for (let i = pathElems.length - 1; i > -1; i--) {
            if (pathElems[i] != 'jumpy' && pathElems[i] != 'jumpy_core') {
                pathElems = pathElems.slice(0, i - 1);
                break;
            }
        }
        window.location.href = '/' + pathElems.join('/') + '/' + arg;
    }
</script>
<style>
    /*
        Hide the lock icons shown for private items. It isn't helpful
        in this context.
    */
    [title="Restricted Visibility"] {
        display: none;
    }

    .mermaid {
        overflow: hidden !important;
        border: 1px solid #BBB;
        border-radius: 1em;
        cursor: move;
        position: relative;
    }

    .dotted rect {
        stroke-dasharray: 5;
    }

    .code .nodeLabel {
        color: #2dbfb8 !important;
    }

    .code rect {
        transition: 0.2s;
        stroke: #2dbfb8 !important;
    }

    .code:hover rect {
        transform: scale(1.05)
    }
</style>

</head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../../jumpy/index.html"><img src="https://avatars.githubusercontent.com/u/87333478?s=200&amp;v=4" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../jumpy/index.html"><img src="https://avatars.githubusercontent.com/u/87333478?s=200&amp;v=4" alt="logo"></a><h2><a href="../../../jumpy/index.html">jumpy</a><span class="version">0.12.2</span></h2></div><h2 class="location"><a href="#">Module borrow</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section><h2><a href="../index.html">In jumpy::prelude</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">jumpy</a>::<wbr><a href="../index.html">prelude</a>::<wbr><a class="mod" href="#">borrow</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module contains types that can be used to implement atomic borrowing.</p>
<p><a href="struct.AtomicBorrow.html" title="struct jumpy::prelude::borrow::AtomicBorrow"><code>AtomicBorrow</code></a> is used to borrow immutably.<br />
<a href="struct.AtomicBorrow.html#method.try_new"><code>AtomicBorrow::try_new</code></a> locks an atomic in such a way
that it can be locked immutably again but not mutably.
It fails if already borrowed mutably.</p>
<p><a href="struct.AtomicBorrowMut.html" title="struct jumpy::prelude::borrow::AtomicBorrowMut"><code>AtomicBorrowMut</code></a> is used to borrow mutably.<br />
<a href="struct.AtomicBorrowMut.html#method.try_new"><code>AtomicBorrowMut::try_new</code></a> locks an atomic in such a way
that it cannot be locked again.
It fails if already borrowed.</p>
<p>Both types use <a href="https://doc.rust-lang.org/1.81.0/core/sync/atomic/struct.AtomicIsize.html" title="struct core::sync::atomic::AtomicIsize"><code>AtomicIsize</code></a> as a locking atomic.<br />
Where <code>0</code> means “not borrowed”,<br />
immutable borrows are represented by positive values<br />
and mutable borrows are represented by negative values.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AtomicBorrow.html" title="struct jumpy::prelude::borrow::AtomicBorrow">AtomicBorrow</a></div><div class="desc docblock-short">Encapsulates shared borrowing state.</div></li><li><div class="item-name"><a class="struct" href="struct.AtomicBorrowMut.html" title="struct jumpy::prelude::borrow::AtomicBorrowMut">AtomicBorrowMut</a></div><div class="desc docblock-short">Encapsulates exclusive borrowing state.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.check_read_refs_count.html" title="fn jumpy::prelude::borrow::check_read_refs_count">check_read_refs_count</a></div><div class="desc docblock-short">Returns true if there are too many read refs.</div></li><li><div class="item-name"><a class="fn" href="fn.check_write_refs_count.html" title="fn jumpy::prelude::borrow::check_write_refs_count">check_write_refs_count</a></div><div class="desc docblock-short">Returns true if there are too many write refs.</div></li><li><div class="item-name"><a class="fn" href="fn.clone_borrow.html" title="fn jumpy::prelude::borrow::clone_borrow">clone_borrow</a></div><div class="desc docblock-short">Clones immutable borrow of specified lock.
This function MUST be called only when lock is already borrowed immutably.</div></li><li><div class="item-name"><a class="fn" href="fn.clone_borrow_mut.html" title="fn jumpy::prelude::borrow::clone_borrow_mut">clone_borrow_mut</a></div><div class="desc docblock-short">Clones mutable borrow of specified lock.
This function MUST be called only when lock is already borrowed mutably.</div></li><li><div class="item-name"><a class="fn" href="fn.is_borrowed.html" title="fn jumpy::prelude::borrow::is_borrowed">is_borrowed</a></div><div class="desc docblock-short">Returns true if specified lock value is borrowed.</div></li><li><div class="item-name"><a class="fn" href="fn.is_reading.html" title="fn jumpy::prelude::borrow::is_reading">is_reading</a></div><div class="desc docblock-short">Returns true if specified lock value is borrowed immutably.</div></li><li><div class="item-name"><a class="fn" href="fn.is_writing.html" title="fn jumpy::prelude::borrow::is_writing">is_writing</a></div><div class="desc docblock-short">Returns true if specified lock value is borrowed mutably.</div></li><li><div class="item-name"><a class="fn" href="fn.new_lock.html" title="fn jumpy::prelude::borrow::new_lock">new_lock</a></div><div class="desc docblock-short">Create atomic borrow lock.
Initially not borrowed.</div></li><li><div class="item-name"><a class="fn" href="fn.release_borrow.html" title="fn jumpy::prelude::borrow::release_borrow">release_borrow</a></div><div class="desc docblock-short">Releases immutable borrow of specified lock.
This function MUST be called only when lock is borrowed immutably.
This function MUST be called only once for each succefful borrow and borrow clone.</div></li><li><div class="item-name"><a class="fn" href="fn.release_borrow_mut.html" title="fn jumpy::prelude::borrow::release_borrow_mut">release_borrow_mut</a></div><div class="desc docblock-short">Releases mutable borrow of specified lock.
This function MUST be called only when lock is borrowed mutably.
This function MUST be called only once for each succefful borrow and borrow clone.</div></li><li><div class="item-name"><a class="fn" href="fn.try_borrow.html" title="fn jumpy::prelude::borrow::try_borrow">try_borrow</a></div><div class="desc docblock-short">Attempts to borrow specified lock immutably.</div></li><li><div class="item-name"><a class="fn" href="fn.try_borrow_mut.html" title="fn jumpy::prelude::borrow::try_borrow_mut">try_borrow_mut</a></div><div class="desc docblock-short">Attempts to borrow specified lock mutably.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.Lock.html" title="type jumpy::prelude::borrow::Lock">Lock</a></div><div class="desc docblock-short">Lock type used by [<code>AtomicCell</code>].</div></li></ul></section></div></main></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait implemented by broad-phase algorithms supported by Rapier."><title>BroadPhase in jumpy::core::physics::collisions::rapier - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../../../../../" data-static-root-path="../../../../../static.files/" data-current-crate="jumpy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../../../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../../static.files/favicon-2c020d218678b618.svg"><script src='https://unpkg.com/panzoom@9.4.0/dist/panzoom.min.js'></script>
<script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10.2.2/dist/mermaid.esm.min.mjs"
    mermaid.initialize({
        startOnLoad: false,
        securityLevel: 'loose',
        theme: 'dark',
        themeVariables: {
            fontSize: '16px',
            lineColor: '#F8B229',
            clusterBkg: '#0000',
            edgeLabelBackground: '#1A1A1A'
        }
    });
    mermaid.run({
        querySelector: '.mermaid',
        postRenderCallback: id => {
            let el = document.getElementById(id);
            const pz = panzoom(el, {
                smoothScroll: false,
                zoomDoubleClickSpeed: 1,
                beforeWheel: function (e) {
                    // allow wheel-zoom only if ctrl is down. Otherwise - ignore
                    var shouldIgnore = !e.ctrlKey;
                    return shouldIgnore;
                }
            })

            const plusDiv = document.createElement('div');
            plusDiv.style = "width: 25px; height: 25px; position: absolute; right: 0.8em; bottom: 0.8em; border: 2px solid #BBB; text-align: center; padding: auto; font-size: 18px; background-color: #222; cursor: pointer"
            plusDiv.innerText = "+"
            plusDiv.onclick = () => {
                pz.smoothZoom(0, 0, 1.2)
            }
            el.parentNode.appendChild(plusDiv);

            const minusDiv = document.createElement('div');
            minusDiv.style = "width: 25px; height: 25px; position: absolute; right: 2.4em; bottom: 0.8em; border: 2px solid #BBB; text-align: center; padding: auto; font-size: 18px; background-color: #222; cursor: pointer"
            minusDiv.innerText = "-"
            minusDiv.onclick = () => {
                pz.smoothZoom(0, 0, 0.8)
            }
            el.parentNode.appendChild(minusDiv);
        }
    })

    // Callback for use in mermaid diagrams that will open a relative doc link when clicking.
    //
    // Example doc link for `arg` would be: jumpy/session/struct.SessionManager.html
    window.docLink = (arg) => {
        let pathElems = new URL(window.location.href).pathname.split('/').filter(x => x != '');
        for (let i = pathElems.length - 1; i > -1; i--) {
            if (pathElems[i] != 'jumpy' && pathElems[i] != 'jumpy_core') {
                pathElems = pathElems.slice(0, i - 1);
                break;
            }
        }
        window.location.href = '/' + pathElems.join('/') + '/' + arg;
    }
</script>
<style>
    /*
        Hide the lock icons shown for private items. It isn't helpful
        in this context.
    */
    [title="Restricted Visibility"] {
        display: none;
    }

    .mermaid {
        overflow: hidden !important;
        border: 1px solid #BBB;
        border-radius: 1em;
        cursor: move;
        position: relative;
    }

    .dotted rect {
        stroke-dasharray: 5;
    }

    .code .nodeLabel {
        color: #2dbfb8 !important;
    }

    .code rect {
        transition: 0.2s;
        stroke: #2dbfb8 !important;
    }

    .code:hover rect {
        transform: scale(1.05)
    }
</style>

</head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../../../../jumpy/index.html"><img src="https://avatars.githubusercontent.com/u/87333478?s=200&amp;v=4" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../../../jumpy/index.html"><img src="https://avatars.githubusercontent.com/u/87333478?s=200&amp;v=4" alt="logo"></a><h2><a href="../../../../../jumpy/index.html">jumpy</a><span class="version">0.12.2</span></h2></div><h2 class="location"><a href="#">BroadPhase</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.update">update</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In jumpy::core::physics::collisions::rapier</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../../../../index.html">jumpy</a>::<wbr><a href="../../../index.html">core</a>::<wbr><a href="../../index.html">physics</a>::<wbr><a href="../index.html">collisions</a>::<wbr><a href="index.html">rapier</a>::<wbr><a class="trait" href="#">BroadPhase</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait BroadPhase {
    // Required method
    fn <a href="#tymethod.update" class="fn">update</a>(
        &amp;mut self,
        prediction_distance: <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.f32.html">f32</a>,
        colliders: &amp;mut <a class="struct" href="../../rapier/struct.ColliderSet.html" title="struct jumpy::core::physics::rapier::ColliderSet">ColliderSet</a>,
        modified_colliders: &amp;[<a class="struct" href="../../rapier/struct.ColliderHandle.html" title="struct jumpy::core::physics::rapier::ColliderHandle">ColliderHandle</a>],
        removed_colliders: &amp;[<a class="struct" href="../../rapier/struct.ColliderHandle.html" title="struct jumpy::core::physics::rapier::ColliderHandle">ColliderHandle</a>],
        events: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../rapier/enum.BroadPhasePairEvent.html" title="enum jumpy::core::physics::rapier::BroadPhasePairEvent">BroadPhasePairEvent</a>&gt;,
    );
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait implemented by broad-phase algorithms supported by Rapier.</p>
<p>The task of a broad-phase algorithm is to detect potential collision pairs, usually based on
bounding volumes. The pairs must be concervative: it is OK to create a collision pair if
two objects don’t actually touch, but it is incorrect to remove a pair between two objects
that are still touching. In other words, it can have false-positive (though these induce
some computational overhead on the narrow-phase), but cannot have false-negative.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.update" class="method"><h4 class="code-header">fn <a href="#tymethod.update" class="fn">update</a>(
    &amp;mut self,
    prediction_distance: <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.f32.html">f32</a>,
    colliders: &amp;mut <a class="struct" href="../../rapier/struct.ColliderSet.html" title="struct jumpy::core::physics::rapier::ColliderSet">ColliderSet</a>,
    modified_colliders: &amp;[<a class="struct" href="../../rapier/struct.ColliderHandle.html" title="struct jumpy::core::physics::rapier::ColliderHandle">ColliderHandle</a>],
    removed_colliders: &amp;[<a class="struct" href="../../rapier/struct.ColliderHandle.html" title="struct jumpy::core::physics::rapier::ColliderHandle">ColliderHandle</a>],
    events: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.81.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../../rapier/enum.BroadPhasePairEvent.html" title="enum jumpy::core::physics::rapier::BroadPhasePairEvent">BroadPhasePairEvent</a>&gt;,
)</h4></section></summary><div class="docblock"><p>Updates the broad-phase.</p>
<p>The results must be output through the <code>events</code> struct. The broad-phase algorithm is only
required to generate new events (i.e. no need to re-send an <code>AddPair</code> event if it was already
sent previously and no <code>RemovePair</code> happened since then). Sending redundant events is allowed
but can result in a slight computational overhead.</p>
<p>The <code>colliders</code> set is mutable only to provide access to
[<code>collider.set_internal_broad_phase_proxy_index</code>]. Other properties of the collider should
<strong>not</strong> be modified during the broad-phase update.</p>
<h5 id="parameters"><a class="doc-anchor" href="#parameters">§</a>Parameters</h5>
<ul>
<li><code>prediction_distance</code>: colliders that are not exactly touching, but closer to this
distance must form a collision pair.</li>
<li><code>colliders</code>: the set of colliders. Change detection with <code>collider.needs_broad_phase_update()</code>
can be relied on at this stage.</li>
<li><code>modified_colliders</code>: colliders that are know to be modified since the last update.</li>
<li><code>removed_colliders</code>: colliders that got removed since the last update. Any associated data
in the broad-phase should be removed by this call to <code>update</code>.</li>
<li><code>events</code>: the broad-phase’s output. They indicate what collision pairs need to be created
and what pairs need to be removed. It is OK to create pairs for colliders that don’t
actually collide (though this can increase computational overhead in the narrow-phase)
but it is important not to indicate removal of a collision pair if the underlying colliders
are still touching or closer than <code>prediction_distance</code>.</li>
</ul>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-BroadPhase-for-BroadPhaseMultiSap" class="impl"><a href="#impl-BroadPhase-for-BroadPhaseMultiSap" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="../../rapier/trait.BroadPhase.html" title="trait jumpy::core::physics::rapier::BroadPhase">BroadPhase</a> for <a class="struct" href="../../rapier/struct.BroadPhaseMultiSap.html" title="struct jumpy::core::physics::rapier::BroadPhaseMultiSap">BroadPhaseMultiSap</a></h3></section></div><script src="../../../../../trait.impl/rapier2d/geometry/broad_phase/trait.BroadPhase.js" data-ignore-extern-crates="rapier2d" async></script></section></div></main></body></html>